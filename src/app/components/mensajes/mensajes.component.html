<app-header></app-header>

<div class="container">
  <div class="mensajes-header">
    <h2>Mensajes de Contacto</h2>
  </div>

  <ul class="message-list" *ngIf="!loading">
    <li *ngFor="let message of messages" (click)="selectMessage(message)">
      <div class="message-item">
        <strong>{{ message.name }}</strong> {{ message.email }}
        <button class="delete-btn" (click)="confirmDeleteMessage(message.id); $event.stopPropagation();">
          ğŸ—‘
        </button>
      </div>
    </li>
  </ul>

  <!-- Cargando Mensajes -->
  <p *ngIf="loading">Cargando mensajes...</p>

  <div *ngIf="selectedMessage" class="message-detail">
    <h3>Detalles del Mensaje</h3>
    <p><strong>Nombre:</strong> {{ selectedMessage.name }}</p>
    <p><strong>Email:</strong> {{ selectedMessage.email }}</p>
    <p><strong>Mensaje:</strong> {{ selectedMessage.message }}</p>
    <button (click)="selectedMessage = null" class="close-btn">Cerrar</button>
  </div>

  <p *ngIf="!loading && messages.length === 0" class="no-experiences">
    No hay mensajes disponibles.
  </p>
</div>

<app-footer></app-footer>
